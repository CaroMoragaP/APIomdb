<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title th:text="${titulo}">Insert title here</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
	
			<style>
				.rating {
				    direction: rtl;
				    unicode-bidi: bidi-override;
				    font-size: 2rem;
				    display: flex;
				}
				.rating input {
				    display: none;
				}
				.rating label {
				    color: #ccc;
				    cursor: pointer;
				    padding: 0 2px;
				}
				.rating input:checked ~ label,
				.rating label:hover,
				.rating label:hover ~ label {
				    color: gold;
				}
			</style>
</head>
<body>
<!-- Menú superior con buscador -->
	<div class="row justify-content-center align-items-start mt-5 mb-4">
		<div class="col-2">
			<form th:action="@{/peli/verpeli}" th:object="${pelicula}" th:method="get">
				<div>
					<h3 class="mb-2">Introduce titulo</h3>
					<div>
						<input type="text" th:field="*{Title}"/> 
					</div>
				</div>
				<div>
					<div>
						<input class="mt-2 text-center" type="submit" value="Buscar Pelicula"/>
					</div>
				</div>
	
			</form>
		</div>
	</div>
	
	<div class="text-center">
		<form th:action="@{/peli/listarPelisUsuario}" th:object="${usuario}" th:method="get">
			<input class="btn btn-dark mt-4" type="submit" value="Lista de Peliculas"/>	
		</form>
		
		<!-- Botón "Películas compartidas" -->
		<form th:action="@{/peli/peliculasCompartidas}" th:object="${usuario}" th:method="get">
			<input class="btn btn-dark mt-4" type="submit" value="Películas Compartidas"/>	
		</form>
		
		<!-- Botón "Películas enviadas" -->
		<form th:action="@{/peli/peliculasEnviadas}" th:object="${usuario}" th:method="get">
			<input class="btn btn-dark mt-4" type="submit" value="Películas Enviadas"/>	
		</form>
	</div>

<!-- El siguiente contenedor solo se verá en caso de que se haya buscado una película previamente -->

	<div class="container" th:if="${pelicula.Title!=null}">
        <div class="row justify-content-center align-items-start mt-2 border border-dark shadow-lg border-4 rounded pb-4">
            <div class="col-4 mt-5">
                <img class="img-fluid"  th:src="${pelicula.Poster}">
            </div>
            <div class="col-6 mt-5">
            	<h1 class="text-center"> <span th:text="${pelicula.Title}" ></span> </h1>
                <h1 class="mt-5">Director: <span th:text="${pelicula.director}" ></span></h1>
                <h1 class="my-4">Año: <span th:text="${pelicula.year}" ></span></h1>
                <h1 class="mt-4">Duración: <span th:text="${pelicula.runtime}" ></span></h1>
                
                           	
            	<!-- RatingBar con 5 estrellas -->
				<form th:action="@{/peli/guardarPeliUsuario}" th:method="get">

			    <h1 class="mt-4 d-flex align-items-center">
			        Valoración:
			
			        <div class="rating ms-3">
			            <input type="radio" id="star5" name="rating" value="5" onclick="habilitarGuardar()" />
			            <label for="star5">★</label>
			
			            <input type="radio" id="star4" name="rating" value="4" onclick="habilitarGuardar()" />
			            <label for="star4">★</label>
			
			            <input type="radio" id="star3" name="rating" value="3" onclick="habilitarGuardar()" />
			            <label for="star3">★</label>
			
			            <input type="radio" id="star2" name="rating" value="2" onclick="habilitarGuardar()" />
			            <label for="star2">★</label>
			
			            <input type="radio" id="star1" name="rating" value="1" onclick="habilitarGuardar()" />
			            <label for="star1">★</label>
			        </div>
			    </h1>
			
			    <div class="text-center">
			        <input id="btnGuardar" class="btn btn-dark mt-5" type="submit" value="Guardar Pelicula" disabled/>
			    </div>
			</form>
			    
			<div class="text-center">
			    <!-- Botón "Enviar a un amigo" -->
			    <form th:action="@{/peli/enviarAmigo}" th:method="get">
			        <input class="btn btn-success mt-3" type="submit" value="Enviar a un Amigo"/>
			    </form>
			</div>

				
			</div>
        </div>
    </div>

		
	<h3 class="text-center mt-5">Javier Carrascal Morales</h3>

	<script>
		function habilitarGuardar(){
		    document.getElementById("btnGuardar").disabled = false;
		}
	</script>
	
	
</body>
</html>